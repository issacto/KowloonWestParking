{"version":3,"sources":["components/Query.js","components/Map.js","components/Footer.js","images/icon.svg","App.js","reportWebVitals.js","index.js"],"names":["containerStyles","paddingTop","paddingLeft","paddingRight","overflowY","height","minHeight","headerStyles","justifyContent","textAlign","backgroundColor","border","width","zoomButtonStyles","marginRight","marginBottom","buttonStyles","borderRadius","color","fontSize","padding","boxStyle","titleStyles","display","titleBoxStyles","App","props","data","detailsMap","Mapping","itemId","timeUpdated","item","carpark","filter","x","_id","count","privateCar","vacancy","motorCycle","HGV","LGV","console","log","style","name","tempArray","split","date","tempTimeArray","timeDislpay","trigger","nature","type","openingHours","periodStart","periodEnd","onClick","changeCenter","coordinates","changeZoom","results","map","lastUploadDate","DefaultIcon","L","iconUrl","icon","shadowUrl","iconShadow","prototype","options","popupStyles","useState","center","zoom","SetViewOnClick","useMap","setView","useEffect","a","position","Marker","Popup","MapContainer","scrollWheelZoom","TileLayer","attribution","url","mainStyles","alignItems","marginTop","fontStyle","IndexPage","href","pageStyles","fontFamily","minWidth","maxWidth","margin","recentralizeButtonStyles","displayLineStyles","container","flexDirection","logoStyles","mapStyles","queryStyles","borderLeft","setData","setDetailsMap","isLoad","changeLoad","loading","setLoading","axios","result","setTimeout","window","src","Logo","active","spinner","text","Map","Query","Footer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0RAMMA,EAAkB,CACtBC,WAAW,MACXC,YAAY,MACZC,aAAa,MACbC,UAAW,OACXC,OAAO,OACPC,UAAU,QAGNC,EAAe,CACnBC,eAAe,SACfC,UAAU,SACVC,gBAAgB,WAChBC,OAAO,iBACPC,MAAM,QAGFC,EAAiB,CACrBJ,UAAU,QACVK,YAAY,MACZC,aAAa,OAGTC,EAAa,CACjBN,gBAAgB,UAChBC,OAAO,iBACPM,aAAa,QACbC,MAAM,QACNC,SAAU,MACVC,QAAQ,SAEJC,EAAU,SAACH,GACf,MAAU,QAAPA,EACI,CACPN,MAAM,MACND,OAAO,iBACPS,QAAQ,MACRH,aAAa,MACbP,gBAAgB,UAChBR,YAAY,MACZD,WAAW,MACXkB,SAAS,QACTJ,aAAa,OAEN,CACLH,MAAM,MACND,OAAO,0BACPS,QAAQ,MACRH,aAAa,MACbP,gBAAgB,UAChBR,YAAY,MACZD,WAAW,MACXkB,SAAS,QACTJ,aAAa,QAEXO,EAAY,CAChBH,SAAS,QACTI,QAAQ,UAGJC,EAAiB,CACrBT,aAAa,OA0EEU,EAtEL,SAAAC,GACR,IAAMC,EAAQD,EAAMC,KACdC,EAAcF,EAAME,WAEpBC,EAAU,SAACC,EAAOC,EAAYC,GAClC,IAAMC,EAAYL,EAAWM,QAAO,SAAAC,GAAC,OAAIA,EAAEC,KAAON,KAAQ,GACtDO,EAAO,EAKXA,IAJSL,EAAKM,WAAWN,EAAKM,WAAWC,QAAQ,IACvCP,EAAKQ,WAAWR,EAAKQ,WAAWD,QAAQ,IACxCP,EAAKS,IAAIT,EAAKS,IAAIF,QAAQ,IAC1BP,EAAKU,IAAIV,EAAKU,IAAIH,QAAQ,GAEpCI,QAAQC,IAAIP,GACZ,IAAInB,EAAQ,OACTmB,EAAM,MAAKnB,EAAQ,iBACtB,IAAMiB,EAAI,sBAAKU,MAAOrB,EAAZ,UACA,oBAAGqB,MAAOvB,EAAV,UAAwBW,EAAQa,KAAhC,aACA,oBAAGD,MAAO,CAACtB,QAAQ,SAASL,MAAMA,GAAlC,UACC,qBAAOmB,QAEdU,EAAYhB,EAAYiB,MAAM,KAC9BC,EAAOF,EAAU,GACjBG,EAAgBH,EAAU,GAAGC,MAAM,KACnCG,EAAcF,EAAM,IAAKC,EAAc,GAAI,IAAKA,EAAc,GAClE,OACA,8BACI,cAAC,IAAD,CAAaE,QAASjB,EAAtB,SACE,sBAAKU,MAAQxB,EAASH,GAAtB,UACA,eAAC,IAAD,CAAckC,QAAS,oBAAGP,MAAO,CAAE9B,aAAa,KAAzB,UAAgC,MAAhC,gDAAvB,UACE,4BAAIkB,EAAQoB,OAAQ,6BAAWpB,EAAQoB,OAAO,OAC9C,4BAAIpB,EAAQqB,KAAM,uBAAUrB,EAAQqB,KAAK,OACzC,4BAAIrB,EAAQsB,aAAc,mCAAYtB,EAAQsB,aAAa,GAAGC,YAAY,OAC1E,4BAAIvB,EAAQsB,aAAc,mCAAYtB,EAAQsB,aAAa,GAAGE,UAAU,UAExE,8BAAIzB,EAAKM,WAAW,6BAASN,EAAKM,WAAWC,QAAQ,KAArD,OACA,8BAAIP,EAAKQ,WAAW,6BAASR,EAAKQ,WAAWD,QAAQ,KAArD,OACA,8BAAIP,EAAKS,IAAI,mCAAUT,EAAKS,IAAIF,QAAQ,KAAxC,OACA,8BAAIP,EAAKU,IAAI,mCAAUV,EAAKU,IAAIH,QAAQ,KAAxC,OACA,oBAAGM,MAAO,CAAC1B,SAAS,OAApB,6CAAoCgC,KACpC,qBAAKN,MAAOhC,EAAZ,SACE,wBAAQgC,MAAO7B,EAAc0C,QAC3B,WAAKhC,EAAMiC,aAAa,CAAC1B,EAAQ2B,YAAY,GAAG3B,EAAQ2B,YAAY,KAChElC,EAAMmC,WAAW,KAFvB,4DAUZ,OACE,qCAEE,qBAAKhB,MAAOtC,EAAZ,SACA,wEAEA,qBAAKsC,MAAO7C,EAAZ,SACE,6BACG2B,EAAKA,EAAKmC,QAAQC,KAAI,SAAA/B,GAAI,OACzB,mCAAsBH,EAAQG,EAAKI,IAAKJ,EAAKgC,eAAehC,KAAnDA,EAAKI,QAGhB,a,6EC5HR6B,EAAcC,OAAO,CACrBC,QAASC,IACTC,UAAWC,MAGfJ,SAASK,UAAUC,QAAQJ,KAAOH,EAElC,IAAMQ,EAAY,CAChBtD,SAAS,OA2EMM,EAzEL,SAAAC,GACViB,QAAQC,IAAIlB,EAAMC,MAClB,IAAMA,EAAQD,EAAMC,KACdC,EAAcF,EAAME,WAHP,EAIY8C,mBAAShD,EAAMiD,QAJ3B,mBAIZA,EAJY,KAIJhB,EAJI,OAKQe,mBAAShD,EAAMkD,MALvB,mBAKZA,EALY,KAKNf,EALM,KAiBnB,SAASgB,IACP,IAAMd,EAAMe,cAGZ,OAFAnC,QAAQC,IAAIgC,GACZb,EAAIgB,QAAQJ,EAAOC,GACZ,KAdTI,oBAAS,sBAAC,sBAAAC,EAAA,sDACRtC,QAAQC,IAAIlB,EAAMiD,QAClBhB,EAAajC,EAAMiD,QAFX,2CAGR,CAACjD,EAAMiD,SAETK,oBAAS,sBAAC,sBAAAC,EAAA,sDACRtC,QAAQC,IAAIlB,EAAMkD,MAClBf,EAAWnC,EAAMkD,MAFT,2CAGR,CAAClD,EAAMkD,OAST,IAAM/C,EAAU,SAACC,EAAOC,EAAYC,GAClC,IAAMC,EAAYL,EAAWM,QAAO,SAAAC,GAAC,OAAIA,EAAEC,KAAON,KAAQ,GACpDgB,EAAO,4BAAIb,EAAQa,OACnBoC,EAAW,CAACjD,EAAQ2B,YAAY,GAAG3B,EAAQ2B,YAAY,IACzDb,EAAYhB,EAAYiB,MAAM,KAC9BC,EAAOF,EAAU,GACjBG,EAAgBH,EAAU,GAAGC,MAAM,KACnCG,EAAcF,EAAM,IAAKC,EAAc,GAAI,IAAKA,EAAc,GAElE,OACI,cAACiC,EAAA,EAAD,CACAD,SAAUA,EADV,SAGE,cAACE,EAAA,EAAD,UACE,sBAAKvC,MAAO4B,EAAZ,UACE,mBAAG5B,MAAO,CAAC1B,SAAS,OAApB,SAA6B2B,IAC7B,8BAAId,EAAKM,WAAW,6BAASN,EAAKM,WAAWC,QAAQ,KAArD,OACA,8BAAIP,EAAKQ,WAAW,8BAAUR,EAAKQ,WAAWD,QAAQ,KAAtD,OACA,8BAAIP,EAAKS,IAAI,kCAAST,EAAKS,IAAIF,QAAQ,KAAvC,OACA,8BAAIP,EAAKU,IAAI,mCAAUV,EAAKU,IAAIH,QAAQ,KAAxC,OACA,gEAAU,IAAKY,aAOzB,OACE,mCACD,eAACkC,EAAA,EAAD,CAAcV,OAAQA,EAAQC,KAAM,GAAIU,iBAAiB,EAAzD,UACC,cAACC,EAAA,EAAD,CACEC,YAAY,yEACZC,IAAI,uDAGL9D,EAAKA,EAAKmC,QAAQC,KAAI,SAAA/B,GAAI,OAE3B,8BACIH,EAAQG,EAAKI,IAAKJ,EAAKgC,eAAehC,QAEvC,KACL,cAAC6C,EAAD,UCjFEa,EAAW,CACblF,eAAe,SACfmF,WAAW,SACXlF,UAAU,SACVmF,UAAU,QACVzE,SAAS,QACT0E,UAAW,UAgBAC,EAbG,WACd,OACI,sBAAKjD,MAAO6C,EAAZ,UACI,mBAAGK,KAAK,0BAAR,SACI,oBAAGlD,MAAO,CAAC3B,MAAM,QAAjB,8BAA4C,UAEhD,mBAAG6E,KAAK,6BAAR,SACI,mBAAGlD,MAAO,CAAC3B,MAAM,OAASK,QAAQ,UAAlC,sCCnBD,MAA0B,iC,iBCUnCyE,EAAa,CACjB9E,MAAO,QACP+E,WAAY,2CAEZvF,gBAAgB,UAChBL,OAAO,OACP6F,SAAS,QACTC,SAAS,QACT/E,QAAQ,GAGJb,EAAa,CACjBgB,QAAS,OACTf,eAAgB,gBAChB4F,OAAO,OAEHC,EAA2B,CAC/B3F,gBAAgB,UAChBC,OAAO,iBACPM,aAAa,MACbC,MAAM,YACNC,SAAU,OAGNmF,EAAkB,CACtBF,OAAO,MACP3F,UAAU,QACVc,QAAS,OACTf,eAAgB,iBAGZ+F,EAAU,CACdhF,QAAQ,OACRiF,cAAe,MACf7F,OAAO,2BAEH8F,EAAW,CACf7F,MAAM,MACNgF,UAAU,QACV9E,YAAY,SAGR4F,EAAY,CAChBR,SAAU,MACVC,SAAU,MACV3F,eAAe,SACfoF,UAAU,OACV7E,aAAa,QAGT4F,EAAc,CAClBT,SAAU,MACVC,SAAU,MACVS,WAAW,0BACXzF,SAAS,QACTT,gBAAgB,WAyEHoF,EApEG,WAAO,IAAD,EACEpB,mBAAS,CAAEZ,QAAS,KADtB,mBACfnC,EADe,KACTkF,EADS,OAEcnC,mBAAS,IAFvB,mBAEf9C,EAFe,KAEHkF,EAFG,OAGOpC,oBAAS,GAHhB,mBAGfqC,EAHe,KAGPC,EAHO,OAIStC,mBAAS,CAAC,YAAY,gBAJ/B,mBAIfC,EAJe,KAIPhB,EAJO,OAKKe,mBAAS,IALd,mBAKfE,EALe,KAKTf,EALS,OAMMa,oBAAS,GANf,mBAMjBuC,EANiB,KAMRC,EANQ,KAStBlC,oBAAS,sBAAC,8BAAAC,EAAA,sEACakC,IACnB,qEAFM,cACFC,EADE,gBAKUD,IAChB,6EANM,OAKFpD,EALE,OAQR+C,EAAc/C,EAAIpC,KAAKmC,SACvB+C,EAAQO,EAAOzF,MACfqF,GAAW,GAVH,2CAWR,IAEFhC,qBAAU,WACRqC,YAAW,WAAOH,GAAYD,KAAU,OAEvC,IAOH,GAAsB,qBAAXK,OACX,OAGE,sBAAKzE,MAAOmD,EAAZ,UACE,sBAAKnD,MAAOtC,EAAZ,UACE,oBAAIsC,MAAO,CAAC1B,SAAS,OAArB,0EACA,8BACA,mBAAG4E,KAAK,+CAAR,SACE,qBAAKlD,MAAO4D,EAAWc,IAAKC,WAIhC,cAAC,IAAD,CACEC,OAAQR,EACRS,SAAO,EACPC,KAAK,iCAHP,SAKA,sBAAK9E,MAAO0D,EAAZ,UACE,sBAAK1D,MAAO6D,EAAZ,UACE,cAACkB,EAAD,CAAKjG,KAAMA,EAAMiD,KAAMA,EAAMhD,WAAaA,EAAY+C,OAASA,IAC/D,sBAAK9B,MAAOyD,EAAZ,UACE,oBAAGzD,MAAO,CAACgD,UAAW,SAAS3E,MAAM,QAArC,UAA+C,SAAWyD,EAAO,GAAI,UAAUA,EAAO,GAAI,IAAKC,EAAK,QACpG,wBAAQ/B,MAAOwD,EAAyB3C,QA5B9B,WAClBC,EAAa,CAAC,YAAY,gBAC1BE,EAAW,KA0BH,gCAGHkD,EACD,qBAAKlE,MAAO8D,EAAZ,SAAyB,cAACkB,EAAD,CAAOlG,KAAMA,EAAMC,WAAaA,EAAY+B,aAAcA,EAAcE,WAAYA,MAAqB,UAGlI,cAACiE,EAAD,QCxHOC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.c123ef66.chunk.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Collapsible from 'react-collapsible';\nimport { useState, useEffect } from 'react';\n\n\nconst containerStyles = {\n  paddingTop:\"1vh\",\n  paddingLeft:\"1vh\",\n  paddingRight:\"1vh\",\n  overflowY: \"auto\",\n  height:\"71vh\",\n  minHeight:\"71vh\",\n}\n\nconst headerStyles = {\n  justifyContent:\"center\",\n  textAlign:\"center\",\n  backgroundColor:\"#434343 \",\n  border:\"solid 1px cyan\",\n  width:\"100%\",\n}\n\nconst zoomButtonStyles={\n  textAlign:\"right\",\n  marginRight:\"1vh\",\n  marginBottom:\"1vh\"\n}\n\nconst buttonStyles={\n  backgroundColor:\"#26323c\",\n  border:\"1px solid cyan\",\n  borderRadius:\"0.5vh\",\n  color:\"white\",\n  fontSize: \"2vh\",\n  padding:\"0.8vh\"\n}\nconst boxStyle =(color)=> {\n  if(color==\"cyan\")\n  return({\n  width:\"80%\",\n  border:\"3px solid cyan\",\n  padding:\"1vh\",\n  borderRadius:\"1vh\",\n  backgroundColor:\"#434343\",\n  paddingLeft:\"4vh\",\n  paddingTop:\"1vh\",\n  fontSize:\"2.5vh\",\n  marginBottom:\"3vh\"})\n  else \n  return({\n    width:\"80%\",\n    border:\"3px solid lightseagreen\",\n    padding:\"1vh\",\n    borderRadius:\"1vh\",\n    backgroundColor:\"#434343\",\n    paddingLeft:\"4vh\",\n    paddingTop:\"1vh\",\n    fontSize:\"2.5vh\",\n    marginBottom:\"3vh\"})\n}\nconst titleStyles={\n  fontSize:\"2.5vh\",\n  display:\"inline\",\n  \n}\nconst titleBoxStyles = {\n  marginBottom:\"4vh\"\n}\n\n\nconst App = props => {\n    const data =  props.data \n    const detailsMap =  props.detailsMap \n\n    const Mapping = (itemId,timeUpdated,item) => {\n      const carpark =   detailsMap.filter(x => x._id == itemId)[0]\n      var count =0\n      const a =item.privateCar?item.privateCar.vacancy:0 \n      const b = item.motorCycle?item.motorCycle.vacancy:0 \n      const c = item.HGV?item.HGV.vacancy:0  \n      const d = item.LGV?item.LGV.vacancy:0 \n      count+= (a+b+c+d)\n      console.log(count)\n      var color = \"cyan\"\n      if(count<100) color = \"lightseagreen\"\n      const x = <div style={titleBoxStyles}>\n                <p style={titleStyles}>{carpark.name} ｜</p>\n                <p style={{display:\"inline\",color:color}}>\n                {\"車位：\"}{count}</p>\n                </div>\n      var tempArray = timeUpdated.split(\"T\")\n      var date = tempArray[0]\n      var tempTimeArray = tempArray[1].split(\":\")\n      var timeDislpay = date +\" \"+ tempTimeArray[0] +\":\"+ tempTimeArray[1]\n      return (\n      <div >\n          <Collapsible trigger={x}>\n            <div style ={boxStyle(color)}>\n            <Collapsible  trigger={<p style={{ marginBottom:\"0\"}}>{\">> \"}停車場詳細資料</p>}>\n              <p>{carpark.nature? \"。提供者: \" + carpark.nature:null}</p>\n              <p>{carpark.type? \"。類別: \" + carpark.type:null}</p>\n              <p>{carpark.openingHours? \"。開始時間: \" + carpark.openingHours[0].periodStart:null}</p>\n              <p>{carpark.openingHours? \"。結束時間: \" + carpark.openingHours[0].periodEnd:null}</p>\n            </Collapsible>\n              <p>{item.privateCar?\"。私家車: \"+item.privateCar.vacancy:null} </p>\n              <p>{item.motorCycle?\"。電單車: \"+item.motorCycle.vacancy:null} </p>\n              <p>{item.HGV?\"。重型貨車: \"+item.HGV.vacancy:null} </p>\n              <p>{item.LGV?\"。輕型貨車: \"+item.LGV.vacancy:null} </p>\n              <p style={{fontSize:\"2vh\"}}>。更新時間: {timeDislpay}</p>\n              <div style={zoomButtonStyles}>\n                <button style={buttonStyles} onClick={\n                  ()=>{props.changeCenter([carpark.coordinates[1],carpark.coordinates[0]]);\n                      props.changeZoom(24)}}>顯示在地圖上</button>\n              </div>\n            </div>\n          </Collapsible>\n          \n      </div>)\n    };\n    //<button style={titleStyle}onClick={recentralize}>總觀</button>\n    return (\n      <>\n      \n        <div style={headerStyles}>\n        <h2>參與的停車場</h2>\n        </div>\n        <div style={containerStyles}>\n          <ul>\n            {data?data.results.map(item => (\n              <li key={item._id}> { Mapping(item._id, item.lastUploadDate,item)}</li>\n            ))\n            :\n            null\n            }\n          </ul>\n      </div>\n      </>\n    );\n  }\n   \n  export default App;\n\n  /**\n   * {data.hits.map(item => (\n          <li key={item._id}>\n            <p>{item.closed}</p>\n          </li>\n        ))}\n   */","import React, { useState, useEffect } from 'react';\n\nimport { MapContainer, useMap,TileLayer, Marker, Popup } from 'react-leaflet'\nimport * as L from 'leaflet'\nimport 'leaflet/dist/leaflet.css';\nimport MapObject from './mapObject.css'\n\nimport icon from 'leaflet/dist/images/marker-icon.png';\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\nlet DefaultIcon = L.icon({\n    iconUrl: icon,\n    shadowUrl: iconShadow\n});\n\nL.Marker.prototype.options.icon = DefaultIcon;\n\nconst popupStyles={\n  fontSize:\"2vh\"\n}\nconst App = props => {\n  console.log(props.data )\n  const data =  props.data \n  const detailsMap =  props.detailsMap \n  const [center, changeCenter] = useState(props.center)\n  const [zoom, changeZoom] = useState(props.zoom)\n\n  useEffect(async () => {\n    console.log(props.center)\n    changeCenter(props.center)\n  },[props.center]);\n\n  useEffect(async () => {\n    console.log(props.zoom)\n    changeZoom(props.zoom)\n  },[props.zoom]);\n\n  function SetViewOnClick() {\n    const map = useMap();\n    console.log(zoom)\n    map.setView(center,zoom);\n    return null;\n  }\n\n  const Mapping = (itemId,timeUpdated,item) => {\n    const carpark =   detailsMap.filter(x => x._id == itemId)[0]\n    const name = <p>{carpark.name}</p>\n    const position = [carpark.coordinates[1],carpark.coordinates[0]]\n    var tempArray = timeUpdated.split(\"T\")\n    var date = tempArray[0]\n    var tempTimeArray = tempArray[1].split(\":\")\n    var timeDislpay = date +\" \"+ tempTimeArray[0] +\":\"+ tempTimeArray[1]\n    \n    return (\n        <Marker \n        position={position}\n        >\n          <Popup >\n            <div style={popupStyles}>\n              <p style={{fontSize:\"3vh\"}}>{name}</p>\n              <p>{item.privateCar?\"。私家車: \"+item.privateCar.vacancy:null} </p>\n              <p>{item.motorCycle?\"。電單車:  \"+item.motorCycle.vacancy:null} </p>\n              <p>{item.HGV?\"。重型貨車:\"+item.HGV.vacancy:null} </p>\n              <p>{item.LGV?\"。輕型貨車: \"+item.LGV.vacancy:null} </p>\n              <p>。更新時間:{\" \"}{timeDislpay}</p>\n            </div>\n          </Popup>\n        </Marker>\n        )\n      };\n\n    return (\n      <>\n     <MapContainer center={center} zoom={13} scrollWheelZoom={false}>\n      <TileLayer\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n\n      {data?data.results.map(item => (\n\n      <div>\n        { Mapping(item._id, item.lastUploadDate,item)}\n      </div>\n      )):null}\n    <SetViewOnClick/>\n  </MapContainer>\n \n\n    </>\n    );\n  }\n   \n  export default App;","import * as React from \"react\"\n\n\nconst mainStyles={\n    justifyContent:\"center\",\n    alignItems:\"center\",\n    textAlign:\"center\",\n    marginTop:\"4.7vh\",\n    fontSize:\"1.7vh\",\n    fontStyle: \"italic\"\n   \n}\nconst IndexPage = () => {\n    return(\n        <div style={mainStyles}>\n            <a href=\"https://data.gov.hk/en/\" >\n                <p style={{color:\"grey\"}}>Data@DATA.GOV.HK {\"  \"}</p>\n            </a>\n            <a href=\"https://github.com/issacto\" >\n                <p style={{color:\"grey\",  display:\"inline\"}}>Copyright@IssacTo </p>\n            </a>\n            \n        </div>\n    )\n}\nexport default IndexPage","export default __webpack_public_path__ + \"static/media/icon.dbbd9805.svg\";","import * as React from \"react\"\nimport Query from \"./components/Query\"\nimport Map from \"./components/Map\"\nimport Footer from \"./components/Footer\"\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Logo from \"./images/icon.svg\"\nimport LoadingOverlay from 'react-loading-overlay';\n// styles\n\nconst pageStyles = {\n  color: \"white\",\n  fontFamily: \"-apple-system, Roboto, sans-serif, serif\",\n  \n  backgroundColor:\"#29323c\",\n  height:\"100%\",\n  minWidth:\"99.5%\",\n  maxWidth:\"99.5%\",\n  padding:5\n  \n}\nconst headerStyles={\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  margin:\"2vh\"\n}\nconst recentralizeButtonStyles = {\n  backgroundColor:\"#26323c\",\n  border:\"1px solid cyan\",\n  borderRadius:\"1vh\",\n  color:\"aliceblue\",\n  fontSize: \"3vh\",\n}\n\nconst displayLineStyles={\n  margin:\"2vh\",\n  textAlign:\"right\",\n  display: \"flex\",\n  justifyContent: \"space-between\"\n}\n\nconst container={\n  display:\"flex\",\n  flexDirection: 'row',\n  border:\"5px solid lightseagreen\",\n}\nconst logoStyles={\n  width:\"6vh\",\n  marginTop:\"2.5vh\",\n  marginRight:\"2.5vh\"\n  \n}\nconst mapStyles = {\n  minWidth: '70%',\n  maxWidth: '70%',\n  justifyContent:\"center\",\n  marginTop:\"auto\",\n  marginBottom:\"auto\",\n}\n\nconst queryStyles = {\n  minWidth: '30%',\n  maxWidth: '30%',\n  borderLeft:\"3px solid lightseagreen\",\n  fontSize:\"2.3vh\",\n  backgroundColor:\"#20323c\",\n}\n\n\n// markup\nconst IndexPage = () => {\n  const [data, setData] = useState({ results: [] });\n  const [detailsMap, setDetailsMap] = useState(\"\");\n  const [isLoad, changeLoad] = useState(false)\n  const [center, changeCenter] = useState([22.31833206,114.209832494])\n  const [zoom, changeZoom] = useState(14)\n  let [loading, setLoading] = useState(true);\n\n\n  useEffect(async () => {\n    const result = await axios(\n      'https://sps-opendata.pilotsmartke.gov.hk/rest/getCarparkVacancies',\n    );\n\n    const map = await axios(\n      ' https://sps-opendata.pilotsmartke.gov.hk/rest/getCarparkInfos?lang=zh_TW',\n    );\n    setDetailsMap(map.data.results)\n    setData(result.data);\n    changeLoad(true)\n  },[]);\n\n  useEffect(() => {\n    setTimeout(() => {setLoading(!loading)},4000);\n    \n  }, []);\n\n  const recentralize =()=>{\n    changeCenter([22.31833206,114.209832494])\n    changeZoom(14)\n  }\n  \n  if (typeof window !== 'undefined') {\n  return (\n    \n    \n    <div style={pageStyles}>\n      <div style={headerStyles}>\n        <h1 style={{fontSize:\"4vh\"}} >九龍西停車場即時數據</h1>\n        <div >\n        <a href=\"https://issacto.github.io/KowloonWestParking\" >\n          <img style={logoStyles}src={Logo}></img>\n          </a>\n        </div>\n      </div>\n      <LoadingOverlay\n        active={loading}\n        spinner\n        text='載入網站中'\n      >\n      <div style={container}>\n        <div style={mapStyles}>\n          <Map data={data} zoom={zoom} detailsMap ={detailsMap} center ={center}/>\n          <div style={displayLineStyles}>\n            <p style={{fontStyle: \"italic\",color:\"grey\"}}>{\"(lat: \" + center[0]}{\" long: \"+center[1]}{\",\"}{zoom+\") \"}</p>\n            <button style={recentralizeButtonStyles}onClick={recentralize}>宏觀</button>\n          </div>\n        </div>\n        {isLoad?\n        <div style={queryStyles}><Query data={data} detailsMap ={detailsMap} changeCenter={changeCenter} changeZoom={changeZoom} /></div>:null}\n        </div>\n        </LoadingOverlay>\n        <Footer/>\n\n    </div>\n  )}\n}\n\nexport default IndexPage","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}